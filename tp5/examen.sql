CREATE TABLE alu
(
legajo INTEGER,
nombre VARCHAR(30),
PRIMARY KEY (legajo)
);

CREATE TABLE materia
(
codigo INTEGER,
nombre VARCHAR(30),
PRIMARY KEY (codigo)
);

CREATE TABLE profesor
(
legajo INTEGER,
nombre VARCHAR(30),
antiguedad 	DATE,
PRIMARY KEY (legajo)
);

CREATE TABLE examen
(
legajo INTEGER,
legProf INTEGER,
nota	DECIMAL(3,1),
fecha	DATE,
codigo INTEGER,
nroActa INTEGER ,
PRIMARY KEY (legajo, legProf, fecha, codigo),
FOREIGN KEY (legajo) REFERENCES alu ON DELETE RESTRICT,
FOREIGN KEY (legProf) REFERENCES profesor ON DELETE RESTRICT,
FOREIGN KEY (codigo) REFERENCES materia ON DELETE RESTRICT
);

INSERT INTO alu VALUES(12000, 'Andrea Garcia');
INSERT INTO alu VALUES(12500, 'Pedro Lima');
INSERT INTO alu VALUES(11500, 'Ana Salina');
INSERT INTO alu VALUES(10500, 'Sol Roy');

INSERT INTO materia VALUES(50, 'Programacion I');
INSERT INTO materia VALUES(20, 'Estructura y Algoritmos');
INSERT INTO materia VALUES(80, 'Base de Datos I');
INSERT INTO materia VALUES(10, 'Programacion IV');

set datestyle to dmy;
INSERT INTO profesor VALUES(533, 'Anibal Solano','12/10/1960');
INSERT INTO profesor VALUES(239, 'Martin Knuth','22/03/1974');
INSERT INTO profesor VALUES(448, 'Sara Warxel','17/08/1980');
INSERT INTO profesor VALUES(329, 'Paula Lorca','12/10/1960');

INSERT INTO examen VALUES(12000,239,2,'03/03/2013',80,111);
INSERT INTO examen VALUES(12000,533,3,'15/03/2013',20,676);
INSERT INTO examen VALUES(12500,533,4,'15/03/2013',20,676);
INSERT INTO examen VALUES(12500,239,5,'03/03/2013',80,111); 
INSERT INTO examen VALUES(12000,239,8,'21/03/2014',80,133);
INSERT INTO examen VALUES(11500,533,9,'15/03/2013',20,676);
INSERT INTO examen VALUES(11500,239,6,'03/03/2013',10,144);
INSERT INTO examen VALUES(10500,239,8,'03/03/2013',10,144);
INSERT INTO examen VALUES(10500,533,2,'03/03/2013',20,144);
INSERT INTO examen VALUES(11500,533,7,'03/03/2013',80,111);
INSERT INTO examen VALUES(12000,448,6,'21/03/2014',10,887);
INSERT INTO examen VALUES(12000,448,8,'21/03/2014',50,888);
INSERT INTO examen VALUES(11500,448,10,'08/04/2015',50,900);
